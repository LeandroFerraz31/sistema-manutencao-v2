<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Controle de Manuten√ß√£o</title>
    <link rel="stylesheet" href="/static/styles.css">
    <link rel="icon" href="data:;base64,iVBORw0KGgo=">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>

<body>
    <div class="container">
        <header>
            <h1>üöõ Sistema de Controle de Manuten√ß√£o</h1>
            <p>Dashboard Inteligente de Manuten√ß√µes Veiculares</p>
        </header>

        <div id="loader-overlay" class="loader-overlay">
            <div class="loader-content">
                <div class="spinner"></div>
                <p>Carregando dados...</p>
            </div>
        </div>


        <div class="main-content">
            <aside class="sidebar">
                <ul>
                    <li><a href="#dashboard" data-section="dashboard">üìä Dashboard</a></li>
                    <li><a href="#cadastrar" data-section="cadastrar">‚ûï Cadastrar</a></li>
                    <li><a href="#listagem" data-section="listagem">üìã Listagem</a></li>
                    <li><a href="#relatorios" data-section="relatorios">üìà Relat√≥rios</a></li>
                    <li><a href="#colinha" data-section="colinha">üìù Colinha</a></li>
                    <li><a href="#" data-section="dashboard">üöß Em constru√ß√£o</a></li>
                    <li><a href="#" data-section="dashboard">üöß Em Constru√ß√£o</a></li>
                </ul>
            </aside>

            <main>
                <section id="dashboard" class="section">
                    <h2 class="title">Dashboard Executivo</h2>
                    <div class="dashboard-filters">
                        <div class="filter-group">
                            <label for="filtro-motorista">Motorista:</label>
                            <select id="filtro-motorista">
                                <option value="">Todos os Motoristas</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filtro-placa">Placa:</label>
                            <select id="filtro-placa">
                                <option value="">Todas as Placas</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filtro-tipo">Tipo:</label>
                            <select id="filtro-tipo">
                                <option value="">Todos os Tipos</option>
                            </select>
                        </div>
                        <div class="filter-group">
                            <label for="filtro-periodo">Per√≠odo:</label>
                            <select id="filtro-periodo">
                                <option value="todos">Todos os Per√≠odos</option>
                                <option value="hoje">Hoje</option>
                                <option value="semana">Esta Semana</option>
                                <option value="mes">Este M√™s</option>
                                <option value="trimestre">Este Trimestre</option>
                                <option value="ano">Este Ano</option>
                            </select>
                        </div>
                        <div class="filter-actions">
                            <button id="aplicar-filtros" class="btn-primary">üîç Aplicar Filtros</button>
                            <button id="limpar-filtros" class="btn-secondary">üîÑ Limpar</button>
                        </div>
                    </div>

                    <div class="dashboard-grid">
                        <div class="metric-card">
                            <div class="card-icon">üîß</div>
                            <div class="card-content">
                                <h3 class="metric-value" id="total-manutencoes">0</h3>
                                <p class="metric-label">Manuten√ß√µes Totais</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="card-icon">üíµ</div>
                            <div class="card-content">
                                <h3 class="metric-value" id="valor-total">R$ 0,00</h3>
                                <p class="metric-label">Valor Total Gasto</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="card-icon">üöõ</div>
                            <div class="card-content">
                                <h3 class="metric-value" id="veiculos-atendidos">0</h3>
                                <p class="metric-label">Ve√≠culos Atendidos</p>
                            </div>
                        </div>
                        <div class="metric-card">
                            <div class="card-icon">üìÖ</div>
                            <div class="card-content">
                                <h3 class="metric-value" id="manutencoes-mes">0</h3>
                                <p class="metric-label">Manuten√ß√µes no M√™s</p>
                            </div>
                        </div>
                    </div>

                    <div class="charts-container">
                        <div class="chart-wrapper">
                            <h3>Distribui√ß√£o por Tipo de Manuten√ß√£o</h3>
                            <div class="chart-container">
                                <canvas id="grafico-tipos"></canvas>
                            </div>
                        </div>
                        <div class="chart-wrapper">
                            <h3>Compara√ß√£o Temporal</h3>
                            <div class="chart-container">
                                <canvas id="grafico-comparacao"></canvas>
                            </div>
                        </div>
                    </div>

                    <div class="rankings-container">
                        <div class="ranking-card">
                            <h3>üèÜ Top 5 Motoristas com Mais Problemas</h3>
                            <div class="ranking-list" id="ranking-motoristas">
                                <p>Carregando...</p>
                            </div>
                        </div>
                        <div class="ranking-card">
                            <h3>üö® Top 5 Ve√≠culos com Mais Problemas</h3>
                            <div class="ranking-list" id="ranking-veiculos">
                                <p>Carregando...</p>
                            </div>
                        </div>
                    </div>
                </section>

                <section id="cadastrar" class="section">
                    <h2 class="title">Cadastrar Nova Manuten√ß√£o</h2>
                    <form id="form-cadastrar">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="data">Data *</label>
                                <input type="date" id="data" name="data" required>
                            </div>
                            <div class="form-group">
                                <label for="placa">Placa *</label>
                                <input type="text" id="placa" name="placa" placeholder="AAA-0A00" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="motorista">Motorista *</label>
                                <input type="text" id="motorista" name="motorista" placeholder="Nome do Motorista" required>
                            </div>
                            <div class="form-group">
                                <label for="telefone">Telefone (Uso Interno)</label>
                                <input type="text" id="telefone" name="telefone" placeholder="(99) 99999-9999">
                                <span class="field-note">Este campo √© apenas para uso interno e n√£o aparecer√° em
                                    relat√≥rios</span>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="tipo">Tipo *</label>
                                <select id="tipo" name="tipo" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="Pneu">Pneu</option>
                                    <option value="Mec√¢nica">Mec√¢nica</option>
                                    <option value="El√©trica">El√©trica</option>
                                    <option value="Tac√≥grafo">Tac√≥grafo</option>
                                    <option value="Chapea√ß√£o">Chapea√ß√£o</option>
                                    <option value="Pintura">Pintura</option>
                                    <option value="Lavagem">Lavagem</option>
                                    <option value="Pe√ßas">Pe√ßas</option>
                                    <option value="Corda">Corda</option>
                                    <option value="Madeirite">Madeirite</option>
                                    <option value="Lona">Lona</option>
                                    <option value="Cinta e Catraca">Cinta e Catraca</option>
                                    <option value="EPIs">EPIs</option>
                                    <option value="DIVERSO">DIVERSO</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="oc">OC</label>
                                <input type="text" id="oc" name="oc" placeholder="digite o numero da OC">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="valor">Valor *</label>
                                <input type="number" id="valor" name="valor" step="0.01" placeholder="R$ 0,00" required>
                            </div>
                            <div class="form-group">
                                <label for="local">Local *</label>
                                <input type="text" id="local" name="local" placeholder="Cidade/Estado" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="pix">PIX</label>
                                <input type="text" id="pix" name="pix" placeholder="digite seu CPF/CNPJ/Telefone">
                            </div>
                            <div class="form-group">
                                <label for="favorecido">Favorecido PIX</label>
                                <input type="text" id="favorecido" name="favorecido" placeholder="digite o nome favorecido">
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="defeito">Defeito/Servi√ßo *</label>
                                <textarea id="defeito" name="defeito" placeholder="Descreva o defeito ou servi√ßo realizado Exemplo: Trocado pneu estourado pelo step" required></textarea>
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">üíæ Salvar Manuten√ß√£o</button>
                            <button type="reset" class="btn-secondary">üîÑ Limpar Formul√°rio</button>
                        </div>
                    </form>
                </section>

                <section id="listagem" class="section">
                    <h2 class="title">Listagem de Manuten√ß√µes</h2>
                    <div class="actions">
                        <button id="exportar-excel" class="btn-success">üìä Exportar Excel</button>
                        <button id="importar-excel" class="btn-info">üì• Importar Excel</button>
                        <input type="file" id="file-input" accept=".xlsx,.xls" style="display: none;">
                    </div>
                    <details class="collapsible-filters">
                        <summary>
                            <span>üîç Filtros Avan√ßados</span>
                            <span class="arrow"></span>
                        </summary>
                        <div class="listagem-filters">
                            <div class="filter-advanced">
                                <div class="form-group">
                                    <label for="filtro-listagem">Filtrar por termo:</label>
                                    <input type="text" id="filtro-listagem" class="filter-input"
                                        placeholder="Digite um termo...">
                                </div>
                                <div class="form-group">
                                    <label for="filtro-listagem-telefone">Filtrar por telefone:</label>
                                    <input type="text" id="filtro-listagem-telefone" class="filter-input"
                                        placeholder="Digite o telefone...">
                                </div>
                                <div class="form-group">
                                    <label for="filtro-listagem-tipo">Filtrar por tipo:</label>
                                    <select id="filtro-listagem-tipo">
                                        <option value="">Todos os Tipos</option>
                                    </select>
                                </div>
                                <div class="form-group">
                                    <button id="aplicar-filtro-listagem" class="btn-primary">Filtrar</button>
                                    <button id="limpar-filtro-listagem" class="btn-secondary">Limpar</button>
                                </div>
                            </div>
                        </div>
                    </details>
                    <details class="collapsible-table" open>
                        <summary>
                            <span>üìã Tabela de Manuten√ß√µes</span>
                            <span class="arrow"></span>
                        </summary>
                        <div class="table-container">
                            <table>
                                <thead>
                                    <tr>
                                        <th>Data</th>
                                        <th>Placa</th>
                                        <th>Motorista</th>
                                        <th>Telefone</th>
                                        <th>Tipo</th>
                                        <th>OC</th>
                                        <th>Valor</th>
                                        <th>PIX</th>
                                        <th>Favorecido</th>
                                        <th>Local</th>
                                        <th>Defeito</th>
                                        <th>A√ß√µes</th>
                                    </tr>
                                </thead>
                                <tbody id="tabela-manutencoes"></tbody>
                            </table>
                        </div>
                    </details>
                </section>

                <section id="relatorios" class="section">
                    <h2 class="title">Relat√≥rios Avan√ßados</h2>
                    <form id="form-relatorios">
                        <div class="form-row">
                            <div class="form-group">
                                <label for="data_inicio">Data In√≠cio *</label>
                                <input type="date" id="data_inicio" name="data_inicio" required>
                            </div>
                            <div class="form-group">
                                <label for="data_fim">Data Fim *</label>
                                <input type="date" id="data_fim" name="data_fim" required>
                            </div>
                        </div>
                        <div class="form-row">
                            <div class="form-group">
                                <label for="placa">Filtrar por Placa</label>
                                <input type="text" id="placa" name="placa">
                            </div>
                            <div class="form-group">
                                <label for="motorista">Filtrar por Motorista</label>
                                <input type="text" id="motorista" name="motorista">
                            </div>
                        </div>
                        <div class="form-actions">
                            <button type="submit" class="btn-primary">üìä Gerar Relat√≥rio</button>
                            <button type="button" class="btn-success">üìÑ Exportar Relat√≥rio</button>
                        </div>
                    </form>
                    <div id="resultado-relatorio" style="display: none;">
                        <h3>Resultado do Relat√≥rio</h3>
                        <div id="relatorio-stats" class="relatorio-stats"></div>
                        <div id="relatorio-tabela" class="table-container"></div>
                    </div>
                </section>

                <section id="colinha" class="section">
                    <h2 class="title">Colinha R√°pida</h2>
                    <div class="listagem-filters">
                        <div class="form-group">
                            <label for="filtro-colinha">Filtrar:</label>
                            <input type="text" id="filtro-colinha" class="filter-input"
                                placeholder="Digite um termo...">
                        </div>
                    </div>
                    <div class="colinha-content" id="colinha-content">
                        <p>Aqui aparecer√£o as informa√ß√µes para c√≥pia r√°pida...</p>
                    </div>
                </section>
            </main>
        </div>
        <footer>
            <p>&copy; 2024 - Sistema de Controle de Manuten√ß√£o. Desenvolvido por Leandro Ferraz</p>
        </footer>
    </div>

    <div id="modal-editar" class="modal">
        <div class="modal-content">
            <span class="close">√ó</span>
            <h2>Editar Manuten√ß√£o</h2>
            <form id="form-editar">
                <input type="hidden" name="id">
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-data">Data *</label>
                        <input type="date" id="edit-data" name="data" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-placa">Placa *</label>
                        <input type="text" id="edit-placa" name="placa" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-motorista">Motorista *</label>
                        <input type="text" id="edit-motorista" name="motorista" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-telefone">Telefone (Uso Interno)</label>
                        <input type="text" id="edit-telefone" name="telefone">
                        <span class="field-note">Este campo √© apenas para uso interno</span>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-tipo">Tipo *</label>
                        <select id="edit-tipo" name="tipo" required>
                            <option value="Pneu">Pneu</option>
                            <option value="Mec√¢nica">Mec√¢nica</option>
                            <option value="El√©trica">El√©trica</option>
                            <option value="Tac√≥grafo">Tac√≥grafo</option>
                            <option value="Chapea√ß√£o">Chapea√ß√£o</option>
                            <option value="Pintura">Pintura</option>
                            <option value="Lavagem">Lavagem</option>
                            <option value="Pe√ßas">Pe√ßas</option>
                            <option value="Corda">Corda</option>
                            <option value="Madeirite">Madeirite</option>
                            <option value="Lona">Lona</option>
                            <option value="Cinta e Catraca">Cinta e Catraca</option>
                            <option value="EPIs">EPIs</option>
                            <option value="DIVERSO">DIVERSO</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-oc">OC</label>
                        <input type="text" id="edit-oc" name="oc">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-valor">Valor *</label>
                        <input type="number" id="edit-valor" name="valor" step="0.01" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-local">Local *</label>
                        <input type="text" id="edit-local" name="local" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-pix">PIX</label>
                        <input type="text" id="edit-pix" name="pix">
                    </div>
                    <div class="form-group">
                        <label for="edit-favorecido">Favorecido</label>
                        <input type="text" id="edit-favorecido" name="favorecido">
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <label for="edit-defeito">Defeito *</label>
                        <textarea id="edit-defeito" name="defeito" required></textarea>
                    </div>
                </div>
                <div class="form-actions">
                    <button type="submit" class="btn-primary">üíæ Salvar Altera√ß√µes</button>
                    <button type="button" class="btn-secondary cancelar">‚ùå Cancelar</button>
                </div>
            </form>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
    <script type="module" src="/static/js/main.js"></script>
</body>


</html>